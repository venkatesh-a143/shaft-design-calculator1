<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shaft Design Calculator - HLD & VLD</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>ðŸ”§ Shaft Design Calculator</h1>
            <p>Calculate shaft dimensions with HLD & VLD diagrams</p>
        </header>

        <div class="calculator">
            <!-- Problem Type Selection -->
            <div class="section">
                <h2>1. Problem Type</h2>
                <label>
                    <input type="radio" name="problemType" value="point" checked onchange="toggleProblemears on Shaft (Problems 21, 22)
                </label>
                <label>
                    <input type="radio" name="problemType" value="pulleygear" onchange="toggleProblemType()">
                    Pulley + Gear on Shaft (Problems 23, 24)
                </label>
            </div>

            <!-- Basic Inputs -->
            <div class="section">
                <h2>2. Power & Speed</h2>
                <div class="input-group">
                    <label>Power (kW):</label>
                    <input type="number" id="power" value="15" step="0.1">
                </div>
                <div class="input-group">
                    <label>Speed (rpm):</label>
                    <input type="number" id="speed" value="1500" step="1">
                </div>
            </div>

            <!-- UDL Specific Inputs -->
            <div class="section" id="udlSection" style="display: none;">
                <h2>3. UDL Configuration</h2>
                <div class="input-group">
                    <label>Total Shaft Length (mm):</label>
                    <input type="number" id="totalLength" value="800" step="1">
                </div>
                <div class="input-group">
                    <label>UDL LengthType()">
                    Single Point Load (Gear/Pulley)
                </label>
                <label>
                    <input type="radio" name="problemType" value="udl" onchange="toggleProblemType()">
                    Uniformly Distributed Load (UDL)
                </label>
                <label>
                    <input type="radio" name="problemType" value="twogear" onchange="toggleProblemType()">
                    Two Gears on Shaft (Problems 21, 22)
                </label>
                <label>
                    <input type="radio" name="problemType" value="pulleygear" onchange="toggleProblemType()">
                    Pulley + Gear on Shaft (Problems 23, 24)
                </label>
            </div>

            <!-- Basic Inputs -->
            <div class="section">
                <h2>2. Power & Speed</h2>
                <div class="input-group">
                    <label>Power (kW):</label>
                    <input type="number" id="power" value="15" step="0.1">
                </div>
                <div class="input-group">
                    <label>Speed (rpm):</label>
                    <input type="number" id="speed" value="1500" step="1">
                </div>
            </div>

            <!-- UDL Specific Inputs -->
            <div class (mm):</label>
                    <input type="number" id="udlLength" value="500" step="1">
                </div>
                <div class="input-group">
                    <label>UDL Intensity (N/mm):</label>
                    <input type="number" id="udlIntensity" value="15" step="0.1">
                </div>
            </div>

            <!-- Two Gear Inputs -->
            <div class="section" id="twoGearSection" style="display: none;">
                <h2>3. Two Gear Configuration</h2>
                <div class="input-group">
                    <label>Distance between bearings A and B (mm):</label>
                    <input type="number" id="bearingDist" value="750" step="1">
                </div>
                <div class="input-group">
                    <label>Gear C distance from bearing A (mm):</label>
                    <input type="number" id="gearCPos" value="150" step="1">
                </div>
                <div class="input-group">
                    <label>Gear D distance from bearing A (mm):</label>
                    <input type="number" id="gearDPos" value="650" step="1">
                </div>
                <div class="input-group">
                    <label>Gear C pitch diameter (mm):</label>
                    <input type="number" id="gearCDia" value="480="section" id="udlSection" style="display: none;">
                <h2>3. UDL Configuration</h2>
                <div class="input-group">
                    <label>Total Shaft Length (mm):</label>
                    <input type="number" id="totalLength" value="800" step="1">
                </div>
                <div class="input-group">
                    <label>UDL Length (mm):</label>
                    <input type="number" id="udlLength" value="500" step="1">
                </div>
                <div class="input-group">
                    <label>UDL Intensity (N/mm):</label>
                    <input type="number" id="udlIntensity" value="15" step="0.1">
                </div>
            </div>

            <!-- Two Gear Inputs -->
            <div class="section" id="twoGearSection" style="display: none;">
                <h2>3. Two Gear Configuration</h2>
                <div class="input-group">
                    <label>Distance between bearings A and B (mm):</label>
                    <input type="number" id="bearingDistance" value="750" step="1">
                </div>
                <h3 style="color:#667eea; margin:15px 0 10px;">Gear C (Left" step="1">
                </div>
                <div class="input-group">
                    <label>Gear D pitch diameter (mm):</label>
                    <input type="number" id="gearDDia" value="144" step="1">
                </div>
                <div class="input-group">
                    <label>Pressure angle (degrees):</label>
                    <input type="number" id="pressureAngle2g" value="20" step="1">
                </div>
                <div class="input-group">
                    <label>Gear C weight (N) [0 if not given]:</label>
                    <input type="number" id="gearCWeight" value="0" step="1">
                </div>
                <div class="input-group">
                    <label>Gear D weight (N) [0 if not given]:</label>
                    <input type="number" id="gearDWeight" value="0" step="1">
                </div>
            </div>

            <!-- Pulley + Gear Inputs -->
            <div class="section" id="pulleyGearSection" style="display: none;">
                <h2>3. Pulley + Gear Configuration</h2>
                <div class="input-group">
                    <label>Distance between bearings C and D (mm):</label>
                    <input type="number" id="pgBearingDist" value="500" step="1">
                </div>
                <div class="input-group">
                    <label>Pulley distance from left bearing (mm) Gear)</h3>
                <div class="input-group">
                    <label>Distance of Gear C from Bearing A (mm):</label>
                    <input type="number" id="gearC_pos" value="150" step="1">
                </div>
                <div class="input-group">
                    <label>Pitch Diameter of Gear C (mm):</label>
                    <input type="number" id="gearC_dia" value="480" step="1">
                </div>
                <div class="input-group">
                    <label>Weight of Gear C (N) [0 if not given]:</label>
                    <input type="number" id="gearC_weight" value="0" step="1">
                </div>
                <h3 style="color:#667eea; margin:15px 0 10px;">Gear D (Right Gear)</h3>
                <div class="input-group">
                    <label>Distance of Gear D from Bearing A (mm):</label>
                    <input type="number" id="gearD_pos" value="650" step="1">
                </div>
                <div class="input-group">
                    <label>Pitch Diameter of Gear D (mm):</label>
                    <input type="number" id="gearD_dia" value="144" step="1">
                </div>
                <div class="input-group">
                    <label>Weight of Gear D (N) [0 if not given]:</label>
                    <input type="number" id="gearD_weight" value="0" step="1">
                 [negative if outside left]:</label>
                    <input type="number" id="pulleyPos" value="-200" step="1">
                </div>
                <div class="input-group">
                    <label>Gear distance from left bearing (mm) [negative if outside, >bearing dist if outside right]:</label>
                    <input type="number" id="gearPosAdv" value="800" step="1">
                </div>
                <div class="input-group">
                    <label>Pulley diameter (mm):</label>
                    <input type="number" id="pulleyDia" value="1200" step="1">
                </div>
                <div class="input-group">
                    <label>Gear diameter (mm):</label>
                    <input type="number" id="gearDiaAdv" value="700" step="1">
                </div>
                <div class="input-group">
                    <label>Tight side tension T1 (N):</label>
                    <input type="number" id="tension1" value="955" step="1">
                </div>
                <div class="input-group">
                    <label>Slack side tension T2 (N):</label>
                    <input type="number" id="tension2" value="477.5" step="1">
                </div>
                <div class="input-group">
                    </div>
                <div class="input-group">
                    <label>Pressure Angle (degrees):</label>
                    <input type="number" id="twoGear_pressureAngle" value="20" step="1">
                </div>
            </div>

            <!-- Pulley + Gear Inputs -->
            <div class="section" id="pulleyGearSection" style="display: none;">
                <h2>3. Pulley + Gear Configuration</h2>
                <div class="input-group">
                    <label>Distance between bearings (mm):</label>
                    <input type="number" id="pg_bearingDistance" value="500" step="1">
                </div>
                <h3 style="color:#667eea; margin:15px 0 10px;">Pulley (at Point C)</h3>
                <div class="input-group">
                    <label>Distance of Pulley from left bearing (mm):</label>
                    <input type="number" id="pulley_pos" value="200" step="1">
                </div>
                <div class="input-group">
                    <label>Pulley Diameter (mm):</label>
                    <input type="number" id="pulley_dia" value="1200" step="1">
                </div>
                <div class="input-group">
                    <label>Weight of Pulley (N) [0 if not given]:</label>
                    <input type="number" id="pulley_weight" value="2400" step="1">
                </div>
                <div class="input-group">
                    <label>Pulley weight (N) [0 if not given]:</label>
                    <input type="number" id="pulleyWeight" value="2400" step="1">
                </div>
                <div class="input-group">
                    <label>Gear weight (N) [0 if not given]:</label>
                    <input type="number" id="gearWeightAdv" value="800" step="1">
                </div>
                <div class="input-group">
                    <label>Pressure angle (degrees):</label>
                    <input type="number" id="pressureAnglePG" value="20" step="1">
                </div>
            </div>

            <!-- Material Properties -->
            <div class="section">
                <h2>4. Material Properties</h2>
                <label>
                    <input type="radio" name="stressMethod" value="direct" checked onchange="toggleStressMethod()">
                    Direct Allowable Shear Stress
                </label>
                <label>
                    <input type="radio" name="stressMethod" value="material" onchange="toggleStressMethod()">
                    Material Properties (Ïƒ_ut, Ïƒ_yt)
                </label>

                <div id="directStressInputs">
                    <div class="input-group">
                        <label>Allowable Shear Stress Ï„_allow (MPa):</label>
                        <label>Tension ratio T1/T2:</label>
                    <input type="number" id="tensionRatio" value="2" step="0.1">
                </div>
                <h3 style="color:#667eea; margin:15px 0 10px;">Gear (at Point D)</h3>
                <div class="input-group">
                    <label>Distance of Gear from left bearing (mm):</label>
                    <input type="number" id="gear_pos" value="500" step="1">
                </div>
                <div class="input-group">
                    <label>Gear Diameter (mm):</label>
                    <input type="number" id="gear_dia" value="700" step="1">
                </div>
                <div class="input-group">
                    <label>Weight of Gear (N) [0 if not given]:</label>
                    <input type="number" id="gear_weight" value="800" step="1">
                </div>
                <div class="input-group">
                    <label>Pressure Angle (degrees):</label>
                    <input type="number" id="pg_pressureAngle" value="20" step="1">
                </div>
            </div>

            <!-- Material Properties -->
            <div class="section">
                <h2>4. Material Properties</h2>
                <label>
                    <input type="radio" name="stressMethod" value="direct" checked onchange="toggleStressMethod()">
                    Direct Allowable Sh<input type="number" id="tauAllow" value="50" step="0.1">
                    </div>
                </div>

                <div id="materialInputs" style="display: none;">
                    <div class="input-group">
                        <label>Ultimate Tensile Strength Ïƒ_ut (MPa):</label>
                        <input type="number" id="sigmaUt" value="630" step="1">
                    </div>
                    <div class="input-group">
                        <label>Yield Tensile Strength Ïƒ_yt (MPa):</label>
                        <input type="number" id="sigmaYt" value="324" step="1">
                    </div>
                    <div class="input-group">
                        <label>Factor of Safety n':</label>
                        <input type="number" id="nPrime" value="1.5" step="0.1">
                    </div>
                </div>

                <label style="margin-top: 10px;">
                    <input type="checkbox" id="hasKeyway" onchange="toggleKeyway()">
                    Shaft has a keyway (reduces stress by 25%)
                </label>
            </div>

            <!-- Shock Factors -->
            <div class="section">
                <h2>5. Combined Shock & Fatigue Factors</h2>
                <label>
                    <input type="checkbox" id="useCmear Stress
                </label>
                <label>
                    <input type="radio" name="stressMethod" value="material" onchange="toggleStressMethod()">
                    Material Properties (Ïƒ_ut, Ïƒ_yt)
                </label>
                <label>
                    <input type="radio" name="stressMethod" value="working" onchange="toggleStressMethod()">
                    Working Stresses (Ïƒ and Ï„ given directly)
                </label>

                <div id="directStressInputs">
                    <div class="input-group">
                        <label>Allowable Shear Stress Ï„_allow (MPa):</label>
                        <input type="number" id="tauAllow" value="50" step="0.1">
                    </div>
                </div>

                <div id="materialInputs" style="display: none;">
                    <div class="input-group">
                        <label>Ultimate Tensile Strength Ïƒ_ut (MPa):</label>
                        <input type="number" id="sigmaUt" value="630" step="1">
                    </div>
                    <div class="input-group">
                        <label>Yield Tensile Strength Ïƒ_yt (MPa):</label>
                        <input type="number" id="sigmaYt" value="324" step="1">
                    </div>
                    <divCt" onchange="toggleCmCt()">
                    Specify Cm and Ct values
                </label>
                <div id="cmCtInputs" style="display: none;">
                    <div class="input-group">
                        <label>Cm (bending):</label>
                        <input type="number" id="cm" value="1.5" step="0.1">
                    </div>
                    <div class="input-group">
                        <label>Ct (torsion):</label>
                        <input type="number" id="ct" value="1.0" step="0.1">
                    </div>
                </div>
            </div>

            <!-- Shaft Type -->
            <div class="section">
                <h2>6. Shaft Type</h2>
                <label>
                    <input type="radio" name="shaftType" value="solid" checked onchange="toggleShaftType()">
                    Solid Shaft
                </label>
                <label>
                    <input type="radio" name="shaftType" value="hollow" onchange="toggleShaftType()">
                    Hollow Shaft
                </label>

                <div id="hollowInputs" style="display: none;">
                    <div class="input-group">
                        <label>Diameter Ratio (di/do):</label>
                        <input type="text" id="diameterRatio" value="0.6" placeholder="e.g., 0.6 or 1 class="input-group">
                        <label>Factor of Safety n':</label>
                        <input type="number" id="nPrime" value="1.5" step="0.1">
                    </div>
                </div>

                <div id="workingStressInputs" style="display: none;">
                    <div class="input-group">
                        <label>Working Stress in Tension Ïƒ_max (MPa):</label>
                        <input type="number" id="sigmaWorking" value="100" step="1">
                    </div>
                    <div class="input-group">
                        <label>Working Stress in Shear Ï„_max (MPa):</label>
                        <input type="number" id="tauWorking" value="56" step="1">
                    </div>
                </div>

                <div class="input-group" style="margin-top:10px;">
                    <label>
                        <input type="checkbox" id="hasKeyway">
                        Has Keyway (reduce stress by 25%)
                    </label>
                </div>
            </div>

            <!-- Shock Factors -->
            <div class="section">
                <h2>5. Combined Shock & Fatigue Factors</h2>
                <label>
                    <input type="checkbox" id="useCmCt" onchange="toggleC/2">
                    </div>
                    <div class="input-group">
                        <label>Modulus of Rigidity G (GPa) [Optional]:</label>
                        <input type="number" id="modulusG" value="0" step="1">
                    </div>
                    <div class="input-group">
                        <label>Shaft Length (mm) [Optional]:</label>
                        <input type="number" id="shaftLength" value="0" step="1">
                    </div>
                    <div class="input-group">
                        <label>Angle of Twist (degrees) [Optional]:</label>
                        <input type="number" id="angleTwist" value="0" step="0.01">
                    </div>
                </div>
            </div>

            <!-- Calculate Button -->
            <button class="calculate-btn" onclick="calculateShaft()">ðŸ”§ Calculate & Generate Diagrams</button>
        </div>

        <!-- Results Section -->
        <div id="results" class="results" style="display: none;">
            <h2>ðŸ“Š Results</h2>
            <div class="result-cards">
                <div class="result-card">
                    <h3>Torque (T)</h3>
                    <p id="torqueResult">-</p>
                </div>mCt()">
                    Specify Cm and Ct values
                </label>
                <div id="cmCtInputs" style="display: none;">
                    <div class="input-group">
                        <label>Cm (bending):</label>
                        <input type="number" id="cm" value="1.5" step="0.1">
                    </div>
                    <div class="input-group">
                        <label>Ct (torsion):</label>
                        <input type="number" id="ct" value="1.0" step="0.1">
                    </div>
                </div>
            </div>

            <!-- Shaft Type -->
            <div class="section">
                <h2>6. Shaft Type</h2>
                <label>
                    <input type="radio" name="shaftType" value="solid" checked onchange="toggleShaftType()">
                    Solid Shaft
                </label>
                <label>
                    <input type="radio" name="shaftType" value="hollow" onchange="toggleShaftType()">
                    Hollow Shaft
                </label>

                <div id="hollowInputs" style="display: none;">
                    <div class="input-group">
                        <label>Diameter Ratio (di/do):</label>
                        <input type="text" id="diameterRatio" value="0.6" placeholder="e.g., 0.6 or 1/2">
                    </div>
                    <div class="input-
                <div class="result-card">
                    <h3>Max Bending Moment (M)</h3>
                    <p id="momentResult">-</p>
                </div>
                <div class="result-card">
                    <h3>Shaft Diameter</h3>
                    <p id="diameterResult">-</p>
                </div>
            </div>
            <div class="detailed-results" id="detailedResults"></div>
        </div>

        <!-- Diagrams Section -->
        <div id="diagrams" style="display: none;"></div>

        <footer>
            <p>Created by Venkatesh A143 | <a href="https://github.com/venkatesh-a143/shaft-design-calculator1" target="_blank">View on GitHub</a></p>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html>
