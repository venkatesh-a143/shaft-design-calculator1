<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shaft Design Calculator - HLD & VLD</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shaft Design Calculator - HLD & VLD</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>沐ｧ Shaft Design Calculator</h1>
            <p>Calculate shaft dimensions with HLD & VLD diagrams</p>
        </header>

        <div class="calculator">
            <!-- Problem Type Selection -->
            <div class="section">
                <h2>1. Problem Type</h2>
                <label>
                    <input type="radio" name="problemType" value="point" checked onchange="toggleProblemType()">
                    Point Load (Gear/Pulley)
                </label>
                <label>
                    <input type="radio" name="problemType" value="udl" onchange="toggleProblemType()">
                    Uniformly Distributed Load (UDL)
                </label>
            </div>

            <!-- Basic Inputs -->
            <div class="section">
                <h2>2. Power & Speed</h2>
                <div class="input-group">
                    <label>Power (kW):</label>
                    <input type="number" id="power" value="15" step="0.1">
                </div>
                <div class="input-group">
                    <label>Speed (rpm):</label>
                    <input type="number" id="speed" value="1500" step="1">
                </div>
            </div>

            <!-- UDL Specific Inputs -->
            <div class="section" id="udlSection" style="display: none;">
                <h2>3. UDL Configuration</h2>
                <div class="input-group">
                    <label>Total Shaft Length (mm):</label>
                    <input type="number" id="totalLength" value="800" step="1">
                </div>
                <div class="input-group">
                    <label>UDL Length (mm):</label>
                    <input type="number" id="udlLength" value="500" step="1">
                </div>
                <div class="input-group">
                    <label>UDL Intensity (N/mm):</label>
                    <input type="number" id="udlIntensity" value="15" step="0.1">
                </div>
            </div>

            <!-- Material Properties -->
            <div class="section">
                <h2>4. Material Properties</h2>
                <label>
                    <input type="radio" name="stressMethod" value="direct" checked onchange="toggleStressMethod()">
                    Direct Allowable Shear Stress
                </label>
                <label>
                    <input type="radio" name="stressMethod" value="material" onchange="toggleStressMethod()">
                    Material Properties (ﾏダut, ﾏダyt)
                </label>

                <div id="directStressInputs">
                    <div class="input-group">
                        <label>Allowable Shear Stress ﾏЮallow (MPa):</label>
                        <input type="number" id="tauAllow" value="50" step="0.1">
                    </div>
                </div>

                <div id="materialInputs" style="display: none;">
                    <div class="input-group">
                        <label>Ultimate Tensile Strength ﾏダut (MPa):</label>
                        <input type="number" id="sigmaUt" value="630" step="1">
                    </div>
                    <div class="input-group">
                        <label>Yield Tensile Strength ﾏダyt (MPa):</label>
                        <input type="number" id="sigmaYt" value="324" step="1">
                    </div>
                    <div class="input-group">
                        <label>Factor of Safety n':</label>
                        <input type="number" id="nPrime" value="1.5" step="0.1">
                    </div>
                </div>
            </div>

            <!-- Shock Factors -->
            <div class="section">
                <h2>5. Combined Shock & Fatigue Factors</h2>
                <label>
                    <input type="checkbox" id="useCmCt" onchange="toggleCmCt()">
                    Specify Cm and Ct values
                </label>
                <div id="cmCtInputs" style="display: none;">
                    <div class="input-group">
                        <label>Cm (bending):</label>
                        <input type="number" id="cm" value="1.5" step="0.1">
                    </div>
                    <div class="input-group">
                        <label>Ct (torsion):</label>
                        <input type="number" id="ct" value="1.0" step="0.1">
                    </div>
                </div>
            </div>

            <!-- Shaft Type -->
            <div class="section">
                <h2>6. Shaft Type</h2>
                <label>
                    <input type="radio" name="shaftType" value="solid" checked onchange="toggleShaftType()">
                    Solid Shaft
                </label>
                <label>
                    <input type="radio" name="shaftType" value="hollow" onchange="toggleShaftType()">
                    Hollow Shaft
                </label>

                <div id="hollowInputs" style="display: none;">
                    <div class="input-group">
                        <label>Diameter Ratio (di/do):</label>
                        <input type="text" id="diameterRatio" value="0.6" placeholder="e.g., 0.6 or 1/2">
                    </div>
                    <div class="input-group">
                        <label>Modulus of Rigidity G (GPa) [Optional]:</label>
                        <input type="number" id="modulusG" value="0" step="1">
                    </div>
                    <div class="input-group">
                        <label>Shaft Length (mm) [Optional]:</label>
                        <input type="number" id="shaftLength" value="0" step="1">
                    </div>
                    <div class="input-group">
                        <label>Angle of Twist (degrees) [Optional]:</label>
                        <input type="number" id="angleTwist" value="0" step="0.01">
                    </div>
                </div>
            </div>

            <!-- Calculate Button -->
            <button class="calculate-btn" onclick="calculateShaft()">沐ｧ Calculate & Generate Diagrams</button>
        </div>

        <!-- Results Section -->
        <div id="results" class="results" style="display: none;">
            <h2>沒 Results</h2>
            <div class="result-cards">
                <div class="result-card">
                    <h3>Torque (T)</h3>
                    <p id="torqueResult">-</p>
                </div>
                <div class="result-card">
                    <h3>Max Bending Moment (M)</h3>
                    <p id="momentResult">-</p>
                </div>
                <div class="result-card">
                    <h3>Shaft Diameter</h3>
                    <p id="diameterResult">-</p>
                </div>
            </div>

            <div class="detailed-results" id="detailedResults"></div>
        </div>

        <!-- Diagrams Section -->
        <div id="diagrams" style="display: none;">
            <h2>沒 Horizontal Loading Diagram (HLD)</h2>
            <div id="loadingDiagram"></div>
            <div id="sfdDiagram"></div>
            <div id="bmdDiagram"></div>
            <div id="torqueDiagram"></div>
        </div>

        <footer>
            <p>Created by Venkatesh A143 | <a href="https://github.com/venkatesh-a143/shaft-design-calculator1" target="_blank">View on GitHub</a></p>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html>